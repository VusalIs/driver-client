{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { of } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport let RequestsService = /*#__PURE__*/(() => {\n  class RequestsService {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router;\n      this.httpOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json'\n        }),\n        withCredentials: true,\n        observe: 'response'\n      };\n      this.mainUrl = 'https://driver-backend-thesis.herokuapp.com';\n    }\n\n    loginUser(data) {\n      return this.http.post(`${this.mainUrl}/auth/login`, data, this.httpOptions);\n    }\n\n    registerUser(data) {\n      return this.http.post(`${this.mainUrl}/auth/registration`, data, this.httpOptions);\n    }\n\n    getCoinList() {\n      return this.http.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1&sparkline=false`);\n    }\n\n    getFavoritedCoins() {\n      return this.http.get(`${this.mainUrl}/coin/my-favorites`, this.httpOptions);\n    }\n\n    addToFavorites(coinId) {\n      return this.http.post(`${this.mainUrl}/coin/add-favorite/${coinId}`, {}, this.httpOptions);\n    }\n\n    getCoinsData(coinsId) {\n      if (coinsId.length != 0) return this.http.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${coinsId.join(',')}&order=market_cap_desc&per_page=10&page=1&sparkline=false`);else return of([]);\n    }\n\n    getCoinData(coinId, timeInterval) {\n      return this.http.get(`https://api.coingecko.com/api/v3/coins/${coinId}/market_chart?vs_currency=usd&days=${timeInterval}`);\n    }\n\n    changeBalance(coinId, amount, action, currentPrice) {\n      return this.http.post(`${this.mainUrl}/info/balance?coinId=${coinId}&amount=${amount}&action=${action}&currentPrice=${currentPrice}`, {}, this.httpOptions);\n    }\n\n    getBalance(coinId) {\n      return this.http.get(`${this.mainUrl}/info/balance?coinId=${coinId}`, this.httpOptions);\n    }\n\n    getBalanceCoins() {\n      return this.http.get(`${this.mainUrl}/info/my-balance`, this.httpOptions);\n    }\n\n    topupBalance(amount) {\n      return this.http.post(`${this.mainUrl}/info/topup?amount=${amount}`, {}, this.httpOptions);\n    }\n\n  }\n\n  RequestsService.ɵfac = function RequestsService_Factory(t) {\n    return new (t || RequestsService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n  };\n\n  RequestsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: RequestsService,\n    factory: RequestsService.ɵfac,\n    providedIn: 'root'\n  });\n  return RequestsService;\n})();","map":null,"metadata":{},"sourceType":"module"}